{"version":3,"file":"tram-spec.js","sources":["../node_modules/xtend/immutable.js","../node_modules/xtend/mutable.js","../node_modules/wayfarer/trie.js","../node_modules/wayfarer/index.js","../node_modules/nanorouter/index.js","../node_modules/dom-walk/index.js","../node_modules/min-document/dom-comment.js","../node_modules/min-document/dom-text.js","../node_modules/min-document/event/dispatch-event.js","../node_modules/min-document/event/add-event-listener.js","../node_modules/min-document/event/remove-event-listener.js","../node_modules/min-document/serialize.js","../node_modules/min-document/dom-element.js","../node_modules/min-document/dom-fragment.js","../node_modules/min-document/event.js","../node_modules/min-document/document.js","../node_modules/min-document/index.js","../node_modules/global/document.js","../node_modules/hyperscript-attribute-to-property/index.js","../node_modules/hyperx/index.js","../node_modules/global/window.js","../node_modules/on-load/index.js","../node_modules/bel/index.js","../node_modules/rbel/index.js","../node_modules/isobject/index.js","../node_modules/is-plain-object/index.js","../node_modules/minidux/createStore.js","../node_modules/minidux/combineReducers.js","../node_modules/minidux/bindActionCreators.js","../node_modules/ap/index.js","../node_modules/composite/index.js","../node_modules/minidux/compose.js","../node_modules/minidux/applyMiddleware.js","../node_modules/minidux/index.js","../node_modules/yo-yo/node_modules/bel/index.js","../node_modules/morphdom/dist/morphdom.js","../node_modules/yo-yo/update-events.js","../node_modules/yo-yo/index.js","../dist/tram-one.esm.js","specs/tram-spec.js"],"sourcesContent":["module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var mutate = require('xtend/mutable')\nvar assert = require('assert')\nvar xtend = require('xtend')\n\nmodule.exports = Trie\n\n// create a new trie\n// null -> obj\nfunction Trie () {\n  if (!(this instanceof Trie)) return new Trie()\n  this.trie = { nodes: {} }\n}\n\n// create a node on the trie at route\n// and return a node\n// str -> null\nTrie.prototype.create = function (route) {\n  assert.equal(typeof route, 'string', 'route should be a string')\n  // strip leading '/' and split routes\n  var routes = route.replace(/^\\//, '').split('/')\n\n  function createNode (index, trie) {\n    var thisRoute = (routes.hasOwnProperty(index) && routes[index])\n    if (thisRoute === false) return trie\n\n    var node = null\n    if (/^:|^\\*/.test(thisRoute)) {\n      // if node is a name match, set name and append to ':' node\n      if (!trie.nodes.hasOwnProperty('$$')) {\n        node = { nodes: {} }\n        trie.nodes['$$'] = node\n      } else {\n        node = trie.nodes['$$']\n      }\n\n      if (thisRoute[0] === '*') {\n        trie.wildcard = true\n      }\n\n      trie.name = thisRoute.replace(/^:|^\\*/, '')\n    } else if (!trie.nodes.hasOwnProperty(thisRoute)) {\n      node = { nodes: {} }\n      trie.nodes[thisRoute] = node\n    } else {\n      node = trie.nodes[thisRoute]\n    }\n\n    // we must recurse deeper\n    return createNode(index + 1, node)\n  }\n\n  return createNode(0, this.trie)\n}\n\n// match a route on the trie\n// and return the node\n// str -> obj\nTrie.prototype.match = function (route) {\n  assert.equal(typeof route, 'string', 'route should be a string')\n\n  var routes = route.replace(/^\\//, '').split('/')\n  var params = {}\n\n  function search (index, trie) {\n    // either there's no match, or we're done searching\n    if (trie === undefined) return undefined\n    var thisRoute = routes[index]\n    if (thisRoute === undefined) return trie\n\n    if (trie.nodes.hasOwnProperty(thisRoute)) {\n      // match regular routes first\n      return search(index + 1, trie.nodes[thisRoute])\n    } else if (trie.wildcard) {\n      // match wildcards\n      try {\n        params['wildcard'] = decodeURIComponent(routes.slice(index).join('/'))\n      } catch (e) {\n        return search(index, undefined)\n      }\n      // return early, or else search may keep recursing through the wildcard\n      return trie.nodes['$$']\n    } else if (trie.name) {\n      // match named routes\n      try {\n        params[trie.name] = decodeURIComponent(thisRoute)\n      } catch (e) {\n        return search(index, undefined)\n      }\n      return search(index + 1, trie.nodes['$$'])\n    } else {\n      // no matches found\n      return search(index + 1)\n    }\n  }\n\n  var node = search(0, this.trie)\n\n  if (!node) return undefined\n  node = xtend(node)\n  node.params = params\n  return node\n}\n\n// mount a trie onto a node at route\n// (str, obj) -> null\nTrie.prototype.mount = function (route, trie) {\n  assert.equal(typeof route, 'string', 'route should be a string')\n  assert.equal(typeof trie, 'object', 'trie should be a object')\n\n  var split = route.replace(/^\\//, '').split('/')\n  var node = null\n  var key = null\n\n  if (split.length === 1) {\n    key = split[0]\n    node = this.create(key)\n  } else {\n    var headArr = split.splice(0, split.length - 1)\n    var head = headArr.join('/')\n    key = split[0]\n    node = this.create(head)\n  }\n\n  mutate(node.nodes, trie.nodes)\n  if (trie.name) node.name = trie.name\n\n  // delegate properties from '/' to the new node\n  // '/' cannot be reached once mounted\n  if (node.nodes['']) {\n    Object.keys(node.nodes['']).forEach(function (key) {\n      if (key === 'nodes') return\n      node[key] = node.nodes[''][key]\n    })\n    mutate(node.nodes, node.nodes[''].nodes)\n    delete node.nodes[''].nodes\n  }\n}\n","var assert = require('assert')\nvar trie = require('./trie')\n\nmodule.exports = Wayfarer\n\n// create a router\n// str -> obj\nfunction Wayfarer (dft) {\n  if (!(this instanceof Wayfarer)) return new Wayfarer(dft)\n\n  var _default = (dft || '').replace(/^\\//, '')\n  var _trie = trie()\n\n  emit._trie = _trie\n  emit.emit = emit\n  emit.on = on\n  emit._wayfarer = true\n\n  return emit\n\n  // define a route\n  // (str, fn) -> obj\n  function on (route, cb) {\n    assert.equal(typeof route, 'string')\n    assert.equal(typeof cb, 'function')\n\n    route = route || '/'\n    cb.route = route\n\n    if (cb && cb._wayfarer && cb._trie) {\n      _trie.mount(route, cb._trie.trie)\n    } else {\n      var node = _trie.create(route)\n      node.cb = cb\n    }\n\n    return emit\n  }\n\n  // match and call a route\n  // (str, obj?) -> null\n  function emit (route) {\n    assert.notEqual(route, undefined, \"'route' must be defined\")\n    var args = new Array(arguments.length)\n    for (var i = 1; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    var node = _trie.match(route)\n    if (node && node.cb) {\n      args[0] = node.params\n      var cb = node.cb\n      return cb.apply(cb, args)\n    }\n\n    var dft = _trie.match(_default)\n    if (dft && dft.cb) {\n      args[0] = dft.params\n      var dftcb = dft.cb\n      return dftcb.apply(dftcb, args)\n    }\n\n    throw new Error(\"route '\" + route + \"' did not match\")\n  }\n}\n","var wayfarer = require('wayfarer')\n\nvar isLocalFile = (/file:\\/\\//.test(typeof window === 'object' &&\n  window.location && window.location.origin)) // electron support\n\n/* eslint-disable no-useless-escape */\nvar electron = '^(file:\\/\\/|\\/)(.*\\.html?\\/?)?'\nvar protocol = '^(http(s)?(:\\/\\/))?(www\\.)?'\nvar domain = '[a-zA-Z0-9-_\\.]+(:[0-9]{1,5})?(\\/{1})?'\nvar qs = '[\\?].*$'\n/* eslint-enable no-useless-escape */\n\nvar stripElectron = new RegExp(electron)\nvar prefix = new RegExp(protocol + domain)\nvar normalize = new RegExp('#')\nvar suffix = new RegExp(qs)\n\nmodule.exports = Nanorouter\n\nfunction Nanorouter (opts) {\n  opts = opts || {}\n\n  var router = wayfarer(opts.default || '/404')\n  var curry = opts.curry || false\n  var prevCallback = null\n  var prevRoute = null\n\n  emit.router = router\n  emit.on = on\n  return emit\n\n  function on (routename, listener) {\n    routename = routename.replace(/^[#/]/, '')\n    router.on(routename, listener)\n  }\n\n  function emit (route) {\n    if (!curry) {\n      return router(route)\n    } else {\n      route = pathname(route, isLocalFile)\n      if (route === prevRoute) {\n        return prevCallback()\n      } else {\n        prevRoute = route\n        prevCallback = router(route)\n        return prevCallback()\n      }\n    }\n  }\n}\n\n// replace everything in a route but the pathname and hash\nfunction pathname (route, isElectron) {\n  if (isElectron) route = route.replace(stripElectron, '')\n  else route = route.replace(prefix, '')\n  return route.replace(suffix, '').replace(normalize, '/')\n}\n","var slice = Array.prototype.slice\n\nmodule.exports = iterativelyWalk\n\nfunction iterativelyWalk(nodes, cb) {\n    if (!('length' in nodes)) {\n        nodes = [nodes]\n    }\n    \n    nodes = slice.call(nodes)\n\n    while(nodes.length) {\n        var node = nodes.shift(),\n            ret = cb(node)\n\n        if (ret) {\n            return ret\n        }\n\n        if (node.childNodes && node.childNodes.length) {\n            nodes = slice.call(node.childNodes).concat(nodes)\n        }\n    }\n}\n","module.exports = Comment\n\nfunction Comment(data, owner) {\n    if (!(this instanceof Comment)) {\n        return new Comment(data, owner)\n    }\n\n    this.data = data\n    this.nodeValue = data\n    this.length = data.length\n    this.ownerDocument = owner || null\n}\n\nComment.prototype.nodeType = 8\nComment.prototype.nodeName = \"#comment\"\n\nComment.prototype.toString = function _Comment_toString() {\n    return \"[object Comment]\"\n}\n","module.exports = DOMText\n\nfunction DOMText(value, owner) {\n    if (!(this instanceof DOMText)) {\n        return new DOMText(value)\n    }\n\n    this.data = value || \"\"\n    this.length = this.data.length\n    this.ownerDocument = owner || null\n}\n\nDOMText.prototype.type = \"DOMTextNode\"\nDOMText.prototype.nodeType = 3\nDOMText.prototype.nodeName = \"#text\"\n\nDOMText.prototype.toString = function _Text_toString() {\n    return this.data\n}\n\nDOMText.prototype.replaceData = function replaceData(index, length, value) {\n    var current = this.data\n    var left = current.substring(0, index)\n    var right = current.substring(index + length, current.length)\n    this.data = left + value + right\n    this.length = this.data.length\n}\n","module.exports = dispatchEvent\n\nfunction dispatchEvent(ev) {\n    var elem = this\n    var type = ev.type\n\n    if (!ev.target) {\n        ev.target = elem\n    }\n\n    if (!elem.listeners) {\n        elem.listeners = {}\n    }\n\n    var listeners = elem.listeners[type]\n\n    if (listeners) {\n        return listeners.forEach(function (listener) {\n            ev.currentTarget = elem\n            if (typeof listener === 'function') {\n                listener(ev)\n            } else {\n                listener.handleEvent(ev)\n            }\n        })\n    }\n\n    if (elem.parentNode) {\n        elem.parentNode.dispatchEvent(ev)\n    }\n}\n","module.exports = addEventListener\n\nfunction addEventListener(type, listener) {\n    var elem = this\n\n    if (!elem.listeners) {\n        elem.listeners = {}\n    }\n\n    if (!elem.listeners[type]) {\n        elem.listeners[type] = []\n    }\n\n    if (elem.listeners[type].indexOf(listener) === -1) {\n        elem.listeners[type].push(listener)\n    }\n}\n","module.exports = removeEventListener\n\nfunction removeEventListener(type, listener) {\n    var elem = this\n\n    if (!elem.listeners) {\n        return\n    }\n\n    if (!elem.listeners[type]) {\n        return\n    }\n\n    var list = elem.listeners[type]\n    var index = list.indexOf(listener)\n    if (index !== -1) {\n        list.splice(index, 1)\n    }\n}\n","module.exports = serializeNode\n\nvar voidElements = [\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"];\n\nfunction serializeNode(node) {\n    switch (node.nodeType) {\n        case 3:\n            return escapeText(node.data)\n        case 8:\n            return \"<!--\" + node.data + \"-->\"\n        default:\n            return serializeElement(node)\n    }\n}\n\nfunction serializeElement(elem) {\n    var strings = []\n\n    var tagname = elem.tagName\n\n    if (elem.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n        tagname = tagname.toLowerCase()\n    }\n\n    strings.push(\"<\" + tagname + properties(elem) + datasetify(elem))\n\n    if (voidElements.indexOf(tagname) > -1) {\n        strings.push(\" />\")\n    } else {\n        strings.push(\">\")\n\n        if (elem.childNodes.length) {\n            strings.push.apply(strings, elem.childNodes.map(serializeNode))\n        } else if (elem.textContent || elem.innerText) {\n            strings.push(escapeText(elem.textContent || elem.innerText))\n        } else if (elem.innerHTML) {\n            strings.push(elem.innerHTML)\n        }\n\n        strings.push(\"</\" + tagname + \">\")\n    }\n\n    return strings.join(\"\")\n}\n\nfunction isProperty(elem, key) {\n    var type = typeof elem[key]\n\n    if (key === \"style\" && Object.keys(elem.style).length > 0) {\n      return true\n    }\n\n    return elem.hasOwnProperty(key) &&\n        (type === \"string\" || type === \"boolean\" || type === \"number\") &&\n        key !== \"nodeName\" && key !== \"className\" && key !== \"tagName\" &&\n        key !== \"textContent\" && key !== \"innerText\" && key !== \"namespaceURI\" &&  key !== \"innerHTML\"\n}\n\nfunction stylify(styles) {\n    if (typeof styles === 'string') return styles\n    var attr = \"\"\n    Object.keys(styles).forEach(function (key) {\n        var value = styles[key]\n        key = key.replace(/[A-Z]/g, function(c) {\n            return \"-\" + c.toLowerCase();\n        })\n        attr += key + \":\" + value + \";\"\n    })\n    return attr\n}\n\nfunction datasetify(elem) {\n    var ds = elem.dataset\n    var props = []\n\n    for (var key in ds) {\n        props.push({ name: \"data-\" + key, value: ds[key] })\n    }\n\n    return props.length ? stringify(props) : \"\"\n}\n\nfunction stringify(list) {\n    var attributes = []\n    list.forEach(function (tuple) {\n        var name = tuple.name\n        var value = tuple.value\n\n        if (name === \"style\") {\n            value = stylify(value)\n        }\n\n        attributes.push(name + \"=\" + \"\\\"\" + escapeAttributeValue(value) + \"\\\"\")\n    })\n\n    return attributes.length ? \" \" + attributes.join(\" \") : \"\"\n}\n\nfunction properties(elem) {\n    var props = []\n    for (var key in elem) {\n        if (isProperty(elem, key)) {\n            props.push({ name: key, value: elem[key] })\n        }\n    }\n\n    for (var ns in elem._attributes) {\n      for (var attribute in elem._attributes[ns]) {\n        var prop = elem._attributes[ns][attribute]\n        var name = (prop.prefix ? prop.prefix + \":\" : \"\") + attribute\n        props.push({ name: name, value: prop.value })\n      }\n    }\n\n    if (elem.className) {\n        props.push({ name: \"class\", value: elem.className })\n    }\n\n    return props.length ? stringify(props) : \"\"\n}\n\nfunction escapeText(s) {\n    var str = '';\n\n    if (typeof(s) === 'string') { \n        str = s; \n    } else if (s) {\n        str = s.toString();\n    }\n\n    return str\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n}\n\nfunction escapeAttributeValue(str) {\n    return escapeText(str).replace(/\"/g, \"&quot;\")\n}\n","var domWalk = require(\"dom-walk\")\nvar dispatchEvent = require(\"./event/dispatch-event.js\")\nvar addEventListener = require(\"./event/add-event-listener.js\")\nvar removeEventListener = require(\"./event/remove-event-listener.js\")\nvar serializeNode = require(\"./serialize.js\")\n\nvar htmlns = \"http://www.w3.org/1999/xhtml\"\n\nmodule.exports = DOMElement\n\nfunction DOMElement(tagName, owner, namespace) {\n    if (!(this instanceof DOMElement)) {\n        return new DOMElement(tagName)\n    }\n\n    var ns = namespace === undefined ? htmlns : (namespace || null)\n\n    this.tagName = ns === htmlns ? String(tagName).toUpperCase() : tagName\n    this.nodeName = this.tagName\n    this.className = \"\"\n    this.dataset = {}\n    this.childNodes = []\n    this.parentNode = null\n    this.style = {}\n    this.ownerDocument = owner || null\n    this.namespaceURI = ns\n    this._attributes = {}\n\n    if (this.tagName === 'INPUT') {\n      this.type = 'text'\n    }\n}\n\nDOMElement.prototype.type = \"DOMElement\"\nDOMElement.prototype.nodeType = 1\n\nDOMElement.prototype.appendChild = function _Element_appendChild(child) {\n    if (child.parentNode) {\n        child.parentNode.removeChild(child)\n    }\n\n    this.childNodes.push(child)\n    child.parentNode = this\n\n    return child\n}\n\nDOMElement.prototype.replaceChild =\n    function _Element_replaceChild(elem, needle) {\n        // TODO: Throw NotFoundError if needle.parentNode !== this\n\n        if (elem.parentNode) {\n            elem.parentNode.removeChild(elem)\n        }\n\n        var index = this.childNodes.indexOf(needle)\n\n        needle.parentNode = null\n        this.childNodes[index] = elem\n        elem.parentNode = this\n\n        return needle\n    }\n\nDOMElement.prototype.removeChild = function _Element_removeChild(elem) {\n    // TODO: Throw NotFoundError if elem.parentNode !== this\n\n    var index = this.childNodes.indexOf(elem)\n    this.childNodes.splice(index, 1)\n\n    elem.parentNode = null\n    return elem\n}\n\nDOMElement.prototype.insertBefore =\n    function _Element_insertBefore(elem, needle) {\n        // TODO: Throw NotFoundError if referenceElement is a dom node\n        // and parentNode !== this\n\n        if (elem.parentNode) {\n            elem.parentNode.removeChild(elem)\n        }\n\n        var index = needle === null || needle === undefined ?\n            -1 :\n            this.childNodes.indexOf(needle)\n\n        if (index > -1) {\n            this.childNodes.splice(index, 0, elem)\n        } else {\n            this.childNodes.push(elem)\n        }\n\n        elem.parentNode = this\n        return elem\n    }\n\nDOMElement.prototype.setAttributeNS =\n    function _Element_setAttributeNS(namespace, name, value) {\n        var prefix = null\n        var localName = name\n        var colonPosition = name.indexOf(\":\")\n        if (colonPosition > -1) {\n            prefix = name.substr(0, colonPosition)\n            localName = name.substr(colonPosition + 1)\n        }\n        if (this.tagName === 'INPUT' && name === 'type') {\n          this.type = value;\n        }\n        else {\n          var attributes = this._attributes[namespace] || (this._attributes[namespace] = {})\n          attributes[localName] = {value: value, prefix: prefix}\n        }\n    }\n\nDOMElement.prototype.getAttributeNS =\n    function _Element_getAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace];\n        var value = attributes && attributes[name] && attributes[name].value\n        if (this.tagName === 'INPUT' && name === 'type') {\n          return this.type;\n        }\n        if (typeof value !== \"string\") {\n            return null\n        }\n        return value\n    }\n\nDOMElement.prototype.removeAttributeNS =\n    function _Element_removeAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace];\n        if (attributes) {\n            delete attributes[name]\n        }\n    }\n\nDOMElement.prototype.hasAttributeNS =\n    function _Element_hasAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace]\n        return !!attributes && name in attributes;\n    }\n\nDOMElement.prototype.setAttribute = function _Element_setAttribute(name, value) {\n    return this.setAttributeNS(null, name, value)\n}\n\nDOMElement.prototype.getAttribute = function _Element_getAttribute(name) {\n    return this.getAttributeNS(null, name)\n}\n\nDOMElement.prototype.removeAttribute = function _Element_removeAttribute(name) {\n    return this.removeAttributeNS(null, name)\n}\n\nDOMElement.prototype.hasAttribute = function _Element_hasAttribute(name) {\n    return this.hasAttributeNS(null, name)\n}\n\nDOMElement.prototype.removeEventListener = removeEventListener\nDOMElement.prototype.addEventListener = addEventListener\nDOMElement.prototype.dispatchEvent = dispatchEvent\n\n// Un-implemented\nDOMElement.prototype.focus = function _Element_focus() {\n    return void 0\n}\n\nDOMElement.prototype.toString = function _Element_toString() {\n    return serializeNode(this)\n}\n\nDOMElement.prototype.getElementsByClassName = function _Element_getElementsByClassName(classNames) {\n    var classes = classNames.split(\" \");\n    var elems = []\n\n    domWalk(this, function (node) {\n        if (node.nodeType === 1) {\n            var nodeClassName = node.className || \"\"\n            var nodeClasses = nodeClassName.split(\" \")\n\n            if (classes.every(function (item) {\n                return nodeClasses.indexOf(item) !== -1\n            })) {\n                elems.push(node)\n            }\n        }\n    })\n\n    return elems\n}\n\nDOMElement.prototype.getElementsByTagName = function _Element_getElementsByTagName(tagName) {\n    tagName = tagName.toLowerCase()\n    var elems = []\n\n    domWalk(this.childNodes, function (node) {\n        if (node.nodeType === 1 && (tagName === '*' || node.tagName.toLowerCase() === tagName)) {\n            elems.push(node)\n        }\n    })\n\n    return elems\n}\n\nDOMElement.prototype.contains = function _Element_contains(element) {\n    return domWalk(this, function (node) {\n        return element === node\n    }) || false\n}\n","var DOMElement = require(\"./dom-element.js\")\n\nmodule.exports = DocumentFragment\n\nfunction DocumentFragment(owner) {\n    if (!(this instanceof DocumentFragment)) {\n        return new DocumentFragment()\n    }\n\n    this.childNodes = []\n    this.parentNode = null\n    this.ownerDocument = owner || null\n}\n\nDocumentFragment.prototype.type = \"DocumentFragment\"\nDocumentFragment.prototype.nodeType = 11\nDocumentFragment.prototype.nodeName = \"#document-fragment\"\n\nDocumentFragment.prototype.appendChild  = DOMElement.prototype.appendChild\nDocumentFragment.prototype.replaceChild = DOMElement.prototype.replaceChild\nDocumentFragment.prototype.removeChild  = DOMElement.prototype.removeChild\n\nDocumentFragment.prototype.toString =\n    function _DocumentFragment_toString() {\n        return this.childNodes.map(function (node) {\n            return String(node)\n        }).join(\"\")\n    }\n","module.exports = Event\n\nfunction Event(family) {}\n\nEvent.prototype.initEvent = function _Event_initEvent(type, bubbles, cancelable) {\n    this.type = type\n    this.bubbles = bubbles\n    this.cancelable = cancelable\n}\n\nEvent.prototype.preventDefault = function _Event_preventDefault() {\n    \n}\n","var domWalk = require(\"dom-walk\")\n\nvar Comment = require(\"./dom-comment.js\")\nvar DOMText = require(\"./dom-text.js\")\nvar DOMElement = require(\"./dom-element.js\")\nvar DocumentFragment = require(\"./dom-fragment.js\")\nvar Event = require(\"./event.js\")\nvar dispatchEvent = require(\"./event/dispatch-event.js\")\nvar addEventListener = require(\"./event/add-event-listener.js\")\nvar removeEventListener = require(\"./event/remove-event-listener.js\")\n\nmodule.exports = Document;\n\nfunction Document() {\n    if (!(this instanceof Document)) {\n        return new Document();\n    }\n\n    this.head = this.createElement(\"head\")\n    this.body = this.createElement(\"body\")\n    this.documentElement = this.createElement(\"html\")\n    this.documentElement.appendChild(this.head)\n    this.documentElement.appendChild(this.body)\n    this.childNodes = [this.documentElement]\n    this.nodeType = 9\n}\n\nvar proto = Document.prototype;\nproto.createTextNode = function createTextNode(value) {\n    return new DOMText(value, this)\n}\n\nproto.createElementNS = function createElementNS(namespace, tagName) {\n    var ns = namespace === null ? null : String(namespace)\n    return new DOMElement(tagName, this, ns)\n}\n\nproto.createElement = function createElement(tagName) {\n    return new DOMElement(tagName, this)\n}\n\nproto.createDocumentFragment = function createDocumentFragment() {\n    return new DocumentFragment(this)\n}\n\nproto.createEvent = function createEvent(family) {\n    return new Event(family)\n}\n\nproto.createComment = function createComment(data) {\n    return new Comment(data, this)\n}\n\nproto.getElementById = function getElementById(id) {\n    id = String(id)\n\n    var result = domWalk(this.childNodes, function (node) {\n        if (String(node.id) === id) {\n            return node\n        }\n    })\n\n    return result || null\n}\n\nproto.getElementsByClassName = DOMElement.prototype.getElementsByClassName\nproto.getElementsByTagName = DOMElement.prototype.getElementsByTagName\nproto.contains = DOMElement.prototype.contains\n\nproto.removeEventListener = removeEventListener\nproto.addEventListener = addEventListener\nproto.dispatchEvent = dispatchEvent\n","var Document = require('./document.js');\n\nmodule.exports = new Document();\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n","module.exports = attributeToProperty\n\nvar transform = {\n  'class': 'className',\n  'for': 'htmlFor',\n  'http-equiv': 'httpEquiv'\n}\n\nfunction attributeToProperty (h) {\n  return function (tagName, attrs, children) {\n    for (var attr in attrs) {\n      if (attr in transform) {\n        attrs[transform[attr]] = attrs[attr]\n        delete attrs[attr]\n      }\n    }\n    return h(tagName, attrs, children)\n  }\n}\n","var attrToProp = require('hyperscript-attribute-to-property')\n\nvar VAR = 0, TEXT = 1, OPEN = 2, CLOSE = 3, ATTR = 4\nvar ATTR_KEY = 5, ATTR_KEY_W = 6\nvar ATTR_VALUE_W = 7, ATTR_VALUE = 8\nvar ATTR_VALUE_SQ = 9, ATTR_VALUE_DQ = 10\nvar ATTR_EQ = 11, ATTR_BREAK = 12\nvar COMMENT = 13\n\nmodule.exports = function (h, opts) {\n  if (!opts) opts = {}\n  var concat = opts.concat || function (a, b) {\n    return String(a) + String(b)\n  }\n  if (opts.attrToProp !== false) {\n    h = attrToProp(h)\n  }\n\n  return function (strings) {\n    var state = TEXT, reg = ''\n    var arglen = arguments.length\n    var parts = []\n\n    for (var i = 0; i < strings.length; i++) {\n      if (i < arglen - 1) {\n        var arg = arguments[i+1]\n        var p = parse(strings[i])\n        var xstate = state\n        if (xstate === ATTR_VALUE_DQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_SQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_W) xstate = ATTR_VALUE\n        if (xstate === ATTR) xstate = ATTR_KEY\n        p.push([ VAR, xstate, arg ])\n        parts.push.apply(parts, p)\n      } else parts.push.apply(parts, parse(strings[i]))\n    }\n\n    var tree = [null,{},[]]\n    var stack = [[tree,-1]]\n    for (var i = 0; i < parts.length; i++) {\n      var cur = stack[stack.length-1][0]\n      var p = parts[i], s = p[0]\n      if (s === OPEN && /^\\//.test(p[1])) {\n        var ix = stack[stack.length-1][1]\n        if (stack.length > 1) {\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === OPEN) {\n        var c = [p[1],{},[]]\n        cur[2].push(c)\n        stack.push([c,cur[2].length-1])\n      } else if (s === ATTR_KEY || (s === VAR && p[1] === ATTR_KEY)) {\n        var key = ''\n        var copyKey\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_KEY) {\n            key = concat(key, parts[i][1])\n          } else if (parts[i][0] === VAR && parts[i][1] === ATTR_KEY) {\n            if (typeof parts[i][2] === 'object' && !key) {\n              for (copyKey in parts[i][2]) {\n                if (parts[i][2].hasOwnProperty(copyKey) && !cur[1][copyKey]) {\n                  cur[1][copyKey] = parts[i][2][copyKey]\n                }\n              }\n            } else {\n              key = concat(key, parts[i][2])\n            }\n          } else break\n        }\n        if (parts[i][0] === ATTR_EQ) i++\n        var j = i\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_VALUE || parts[i][0] === ATTR_KEY) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][1])\n            else cur[1][key] = concat(cur[1][key], parts[i][1])\n          } else if (parts[i][0] === VAR\n          && (parts[i][1] === ATTR_VALUE || parts[i][1] === ATTR_KEY)) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][2])\n            else cur[1][key] = concat(cur[1][key], parts[i][2])\n          } else {\n            if (key.length && !cur[1][key] && i === j\n            && (parts[i][0] === CLOSE || parts[i][0] === ATTR_BREAK)) {\n              // https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\n              // empty string is falsy, not well behaved value in browser\n              cur[1][key] = key.toLowerCase()\n            }\n            break\n          }\n        }\n      } else if (s === ATTR_KEY) {\n        cur[1][p[1]] = true\n      } else if (s === VAR && p[1] === ATTR_KEY) {\n        cur[1][p[2]] = true\n      } else if (s === CLOSE) {\n        if (selfClosing(cur[0]) && stack.length) {\n          var ix = stack[stack.length-1][1]\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === VAR && p[1] === TEXT) {\n        if (p[2] === undefined || p[2] === null) p[2] = ''\n        else if (!p[2]) p[2] = concat('', p[2])\n        if (Array.isArray(p[2][0])) {\n          cur[2].push.apply(cur[2], p[2])\n        } else {\n          cur[2].push(p[2])\n        }\n      } else if (s === TEXT) {\n        cur[2].push(p[1])\n      } else if (s === ATTR_EQ || s === ATTR_BREAK) {\n        // no-op\n      } else {\n        throw new Error('unhandled: ' + s)\n      }\n    }\n\n    if (tree[2].length > 1 && /^\\s*$/.test(tree[2][0])) {\n      tree[2].shift()\n    }\n\n    if (tree[2].length > 2\n    || (tree[2].length === 2 && /\\S/.test(tree[2][1]))) {\n      throw new Error(\n        'multiple root elements must be wrapped in an enclosing tag'\n      )\n    }\n    if (Array.isArray(tree[2][0]) && typeof tree[2][0][0] === 'string'\n    && Array.isArray(tree[2][0][2])) {\n      tree[2][0] = h(tree[2][0][0], tree[2][0][1], tree[2][0][2])\n    }\n    return tree[2][0]\n\n    function parse (str) {\n      var res = []\n      if (state === ATTR_VALUE_W) state = ATTR\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i)\n        if (state === TEXT && c === '<') {\n          if (reg.length) res.push([TEXT, reg])\n          reg = ''\n          state = OPEN\n        } else if (c === '>' && !quot(state) && state !== COMMENT) {\n          if (state === OPEN) {\n            res.push([OPEN,reg])\n          } else if (state === ATTR_KEY) {\n            res.push([ATTR_KEY,reg])\n          } else if (state === ATTR_VALUE && reg.length) {\n            res.push([ATTR_VALUE,reg])\n          }\n          res.push([CLOSE])\n          reg = ''\n          state = TEXT\n        } else if (state === COMMENT && /-$/.test(reg) && c === '-') {\n          if (opts.comments) {\n            res.push([ATTR_VALUE,reg.substr(0, reg.length - 1)],[CLOSE])\n          }\n          reg = ''\n          state = TEXT\n        } else if (state === OPEN && /^!--$/.test(reg)) {\n          if (opts.comments) {\n            res.push([OPEN, reg],[ATTR_KEY,'comment'],[ATTR_EQ])\n          }\n          reg = c\n          state = COMMENT\n        } else if (state === TEXT || state === COMMENT) {\n          reg += c\n        } else if (state === OPEN && /\\s/.test(c)) {\n          res.push([OPEN, reg])\n          reg = ''\n          state = ATTR\n        } else if (state === OPEN) {\n          reg += c\n        } else if (state === ATTR && /[^\\s\"'=/]/.test(c)) {\n          state = ATTR_KEY\n          reg = c\n        } else if (state === ATTR && /\\s/.test(c)) {\n          if (reg.length) res.push([ATTR_KEY,reg])\n          res.push([ATTR_BREAK])\n        } else if (state === ATTR_KEY && /\\s/.test(c)) {\n          res.push([ATTR_KEY,reg])\n          reg = ''\n          state = ATTR_KEY_W\n        } else if (state === ATTR_KEY && c === '=') {\n          res.push([ATTR_KEY,reg],[ATTR_EQ])\n          reg = ''\n          state = ATTR_VALUE_W\n        } else if (state === ATTR_KEY) {\n          reg += c\n        } else if ((state === ATTR_KEY_W || state === ATTR) && c === '=') {\n          res.push([ATTR_EQ])\n          state = ATTR_VALUE_W\n        } else if ((state === ATTR_KEY_W || state === ATTR) && !/\\s/.test(c)) {\n          res.push([ATTR_BREAK])\n          if (/[\\w-]/.test(c)) {\n            reg += c\n            state = ATTR_KEY\n          } else state = ATTR\n        } else if (state === ATTR_VALUE_W && c === '\"') {\n          state = ATTR_VALUE_DQ\n        } else if (state === ATTR_VALUE_W && c === \"'\") {\n          state = ATTR_VALUE_SQ\n        } else if (state === ATTR_VALUE_DQ && c === '\"') {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_SQ && c === \"'\") {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_W && !/\\s/.test(c)) {\n          state = ATTR_VALUE\n          i--\n        } else if (state === ATTR_VALUE && /\\s/.test(c)) {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE || state === ATTR_VALUE_SQ\n        || state === ATTR_VALUE_DQ) {\n          reg += c\n        }\n      }\n      if (state === TEXT && reg.length) {\n        res.push([TEXT,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_DQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_SQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_KEY) {\n        res.push([ATTR_KEY,reg])\n        reg = ''\n      }\n      return res\n    }\n  }\n\n  function strfn (x) {\n    if (typeof x === 'function') return x\n    else if (typeof x === 'string') return x\n    else if (x && typeof x === 'object') return x\n    else return concat('', x)\n  }\n}\n\nfunction quot (state) {\n  return state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty\nfunction has (obj, key) { return hasOwn.call(obj, key) }\n\nvar closeRE = RegExp('^(' + [\n  'area', 'base', 'basefont', 'bgsound', 'br', 'col', 'command', 'embed',\n  'frame', 'hr', 'img', 'input', 'isindex', 'keygen', 'link', 'meta', 'param',\n  'source', 'track', 'wbr', '!--',\n  // SVG TAGS\n  'animate', 'animateTransform', 'circle', 'cursor', 'desc', 'ellipse',\n  'feBlend', 'feColorMatrix', 'feComposite',\n  'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap',\n  'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR',\n  'feGaussianBlur', 'feImage', 'feMergeNode', 'feMorphology',\n  'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile',\n  'feTurbulence', 'font-face-format', 'font-face-name', 'font-face-uri',\n  'glyph', 'glyphRef', 'hkern', 'image', 'line', 'missing-glyph', 'mpath',\n  'path', 'polygon', 'polyline', 'rect', 'set', 'stop', 'tref', 'use', 'view',\n  'vkern'\n].join('|') + ')(?:[\\.#][a-zA-Z0-9\\u007F-\\uFFFF_:-]+)*$')\nfunction selfClosing (tag) { return closeRE.test(tag) }\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","/* global MutationObserver */\nvar document = require('global/document')\nvar window = require('global/window')\nvar watch = Object.create(null)\nvar KEY_ID = 'onloadid' + (new Date() % 9e6).toString(36)\nvar KEY_ATTR = 'data-' + KEY_ID\nvar INDEX = 0\n\nif (window && window.MutationObserver) {\n  var observer = new MutationObserver(function (mutations) {\n    if (Object.keys(watch).length < 1) return\n    for (var i = 0; i < mutations.length; i++) {\n      if (mutations[i].attributeName === KEY_ATTR) {\n        eachAttr(mutations[i], turnon, turnoff)\n        continue\n      }\n      eachMutation(mutations[i].removedNodes, turnoff)\n      eachMutation(mutations[i].addedNodes, turnon)\n    }\n  })\n  observer.observe(document.body, {\n    childList: true,\n    subtree: true,\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: [KEY_ATTR]\n  })\n}\n\nmodule.exports = function onload (el, on, off, caller) {\n  on = on || function () {}\n  off = off || function () {}\n  el.setAttribute(KEY_ATTR, 'o' + INDEX)\n  watch['o' + INDEX] = [on, off, 0, caller || onload.caller]\n  INDEX += 1\n  return el\n}\n\nfunction turnon (index, el) {\n  if (watch[index][0] && watch[index][2] === 0) {\n    watch[index][0](el)\n    watch[index][2] = 1\n  }\n}\n\nfunction turnoff (index, el) {\n  if (watch[index][1] && watch[index][2] === 1) {\n    watch[index][1](el)\n    watch[index][2] = 0\n  }\n}\n\nfunction eachAttr (mutation, on, off) {\n  var newValue = mutation.target.getAttribute(KEY_ATTR)\n  if (sameOrigin(mutation.oldValue, newValue)) {\n    watch[newValue] = watch[mutation.oldValue]\n    return\n  }\n  if (watch[mutation.oldValue]) {\n    off(mutation.oldValue, mutation.target)\n  }\n  if (watch[newValue]) {\n    on(newValue, mutation.target)\n  }\n}\n\nfunction sameOrigin (oldValue, newValue) {\n  if (!oldValue || !newValue) return false\n  return watch[oldValue][3] === watch[newValue][3]\n}\n\nfunction eachMutation (nodes, fn) {\n  var keys = Object.keys(watch)\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] && nodes[i].getAttribute && nodes[i].getAttribute(KEY_ATTR)) {\n      var onloadid = nodes[i].getAttribute(KEY_ATTR)\n      keys.forEach(function (k) {\n        if (onloadid === k) {\n          fn(k, nodes[i])\n        }\n      })\n    }\n    if (nodes[i].childNodes.length > 0) {\n      eachMutation(nodes[i].childNodes, fn)\n    }\n  }\n}\n","var document = require('global/document')\nvar hyperx = require('hyperx')\nvar onload = require('on-load')\n\nvar SVGNS = 'http://www.w3.org/2000/svg'\nvar XLINKNS = 'http://www.w3.org/1999/xlink'\n\nvar BOOL_PROPS = {\n  autofocus: 1,\n  checked: 1,\n  defaultchecked: 1,\n  disabled: 1,\n  formnovalidate: 1,\n  indeterminate: 1,\n  readonly: 1,\n  required: 1,\n  selected: 1,\n  willvalidate: 1\n}\nvar COMMENT_TAG = '!--'\nvar SVG_TAGS = [\n  'svg',\n  'altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor',\n  'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile',\n  'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix',\n  'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting',\n  'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB',\n  'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode',\n  'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting',\n  'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font', 'font-face',\n  'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri',\n  'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line',\n  'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath',\n  'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect',\n  'set', 'stop', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref',\n  'tspan', 'use', 'view', 'vkern'\n]\n\nfunction belCreateElement (tag, props, children) {\n  var el\n\n  // If an svg tag, it needs a namespace\n  if (SVG_TAGS.indexOf(tag) !== -1) {\n    props.namespace = SVGNS\n  }\n\n  // If we are using a namespace\n  var ns = false\n  if (props.namespace) {\n    ns = props.namespace\n    delete props.namespace\n  }\n\n  // Create the element\n  if (ns) {\n    el = document.createElementNS(ns, tag)\n  } else if (tag === COMMENT_TAG) {\n    return document.createComment(props.comment)\n  } else {\n    el = document.createElement(tag)\n  }\n\n  // If adding onload events\n  if (props.onload || props.onunload) {\n    var load = props.onload || function () {}\n    var unload = props.onunload || function () {}\n    onload(el, function belOnload () {\n      load(el)\n    }, function belOnunload () {\n      unload(el)\n    },\n    // We have to use non-standard `caller` to find who invokes `belCreateElement`\n    belCreateElement.caller.caller.caller)\n    delete props.onload\n    delete props.onunload\n  }\n\n  // Create the properties\n  for (var p in props) {\n    if (props.hasOwnProperty(p)) {\n      var key = p.toLowerCase()\n      var val = props[p]\n      // Normalize className\n      if (key === 'classname') {\n        key = 'class'\n        p = 'class'\n      }\n      // The for attribute gets transformed to htmlFor, but we just set as for\n      if (p === 'htmlFor') {\n        p = 'for'\n      }\n      // If a property is boolean, set itself to the key\n      if (BOOL_PROPS[key]) {\n        if (val === 'true') val = key\n        else if (val === 'false') continue\n      }\n      // If a property prefers being set directly vs setAttribute\n      if (key.slice(0, 2) === 'on') {\n        el[p] = val\n      } else {\n        if (ns) {\n          if (p === 'xlink:href') {\n            el.setAttributeNS(XLINKNS, p, val)\n          } else if (/^xmlns($|:)/i.test(p)) {\n            // skip xmlns definitions\n          } else {\n            el.setAttributeNS(null, p, val)\n          }\n        } else {\n          el.setAttribute(p, val)\n        }\n      }\n    }\n  }\n\n  function appendChild (childs) {\n    if (!Array.isArray(childs)) return\n    for (var i = 0; i < childs.length; i++) {\n      var node = childs[i]\n      if (Array.isArray(node)) {\n        appendChild(node)\n        continue\n      }\n\n      if (typeof node === 'number' ||\n        typeof node === 'boolean' ||\n        typeof node === 'function' ||\n        node instanceof Date ||\n        node instanceof RegExp) {\n        node = node.toString()\n      }\n\n      if (typeof node === 'string') {\n        if (el.lastChild && el.lastChild.nodeName === '#text') {\n          el.lastChild.nodeValue += node\n          continue\n        }\n        node = document.createTextNode(node)\n      }\n\n      if (node && node.nodeType) {\n        el.appendChild(node)\n      }\n    }\n  }\n  appendChild(children)\n\n  return el\n}\n\nmodule.exports = hyperx(belCreateElement, {comments: true})\nmodule.exports.default = module.exports\nmodule.exports.createElement = belCreateElement\n","const hyperx = require('hyperx');\n\nmodule.exports = function (h, components) {\n    const eh = function (tagName, attrs, children) {\n        const component = components[tagName];\n\n        const node = component ? component(attrs, children) : h(tagName, attrs, children);\n\n        return node;\n    };\n\n    const hx = hyperx(eh);\n\n    hx.h = eh;\n\n    return hx;\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","var isPlainObject = require('is-plain-object')\n\nmodule.exports = function createStore (reducer, initialState, enhancer) {\n  if (!reducer || typeof reducer !== 'function') throw new Error('reducer must be a function')\n\n  if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = initialState\n    initialState = undefined\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('enhancer must be a function.')\n    }\n\n    return enhancer(createStore)(reducer, initialState)\n  }\n\n  initialState = initialState || {}\n  var state = initialState\n  var listener = null\n  var isEmitting = false\n\n  function dispatch (action) {\n    if (!action || !isPlainObject(action)) throw new Error('action parameter is required and must be a plain object')\n    if (!action.type || typeof action.type !== 'string') throw new Error('type property of action is required and must be a string')\n    if (isEmitting) throw new Error('modifiers may not emit actions')\n\n    isEmitting = true\n    state = reducer(state, action)\n    if (listener) listener(state)\n    isEmitting = false\n    return action\n  }\n\n  function subscribe (cb) {\n    if (!cb || typeof cb !== 'function') throw new Error('listener must be a function')\n    listener = cb\n  }\n\n  function replaceReducer (next) {\n    if (typeof next !== 'function') throw new Error('new reducer must be a function')\n    reducer = next\n  }\n\n  function getState () {\n    return state\n  }\n\n  dispatch({ type: '@@minidux/INIT' })\n\n  return {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }\n}\n","var isPlainObject = require('is-plain-object')\n\nmodule.exports = function combineReducers (reducers) {\n  if (!reducers || !isPlainObject(reducers)) throw new Error('reducers argument must be an object with reducer methods')\n  var keys = Object.keys(reducers)\n\n  return function combination (state, action) {\n    var hasChanged = false\n    var nextState = {}\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (typeof reducers[key] !== 'function') throw new Error('reducer ' + key + 'must be a function')\n      nextState[key] = reducers[key](state[key], action)\n      hasChanged = hasChanged || nextState[key] !== state[key]\n    }\n\n    return hasChanged ? nextState : state\n  }\n}\n","module.exports = function bindActionCreators (actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch)\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('actionCreators must be a function or object with functions')\n  }\n\n  var keys = Object.keys(actionCreators)\n  var boundActionCreators = {}\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    var actionCreator = actionCreators[key]\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch)\n    }\n  }\n\n  return boundActionCreators\n}\n\nfunction bindActionCreator (actionCreator, dispatch) {\n  return function () {\n    dispatch(actionCreator.apply(null, arguments))\n  }\n}\n","exports = module.exports = ap;\nfunction ap (args, fn) {\n    return function () {\n        return fn.apply(this, args.concat.apply(args, arguments));\n    };\n}\n\nexports.pa = pa;\nfunction pa (args, fn) {\n    return function () {\n        return fn.apply(this, [].slice.call(arguments).concat(args));\n    };\n}\n\nexports.apa = apa;\nfunction apa (left, right, fn) {\n    return function () {\n        return fn.apply(this,\n            left.concat.apply(left, arguments).concat(right)\n        );\n    };\n}\n\nexports.partial = partial;\nfunction partial (fn) {\n    var args = [].slice.call(arguments, 1);\n    return ap(args, fn);\n}\n\nexports.partialRight = partialRight;\nfunction partialRight (fn) {\n    var args = [].slice.call(arguments, 1);\n    return pa(args, fn);\n}\n\nexports.curry = curry;\nfunction curry (fn) {\n    return partial(partial, fn);\n}\n\nexports.curryRight = function curryRight (fn) {\n    return partial(partialRight, fn);\n}\n","\"use strict\";\n\nvar partial = require(\"ap\").partial\n    , slice = Array.prototype.slice\n    , globalScope = typeof global === \"undefined\" ? window : global\n\ncompose.async = composeAsync\ncompose.cc = cc\n\nmodule.exports = compose\n\nfunction compose() {\n    return slice.call(arguments).reduce(combineFunctions)\n}\n\nfunction combineFunctions(memo, current) {\n    return partial(applyInOrder, current, memo)\n}\n   \nfunction applyInOrder(first, second) {\n    var result = first.apply(this, slice.call(arguments, 2))\n    if (Array.isArray(result)) {\n        return second.apply(this, result)\n    }\n    return second.call(this, result)\n}\n\nfunction composeAsync() {\n    return createAsyncComposite(slice.call(arguments))\n}\n\nfunction createAsyncComposite(fns) {\n    var index = fns.length - 1\n        , thisValue\n        , finishCallback\n\n    return callFirst\n\n    function callNext() {\n        var args = slice.call(arguments)\n            , f = fns[index--]\n            , functionIndex = f.length - 1\n            , callbackIndex = args.length\n\n        if (callbackIndex < functionIndex) {\n            callbackIndex = functionIndex\n        }\n\n        if (index === -1) {\n            args[callbackIndex] = finishCallback\n        } else {\n            args[callbackIndex] = callNext\n        }\n\n        f.apply(thisValue, args)\n    }\n\n    function callFirst() {\n        var args = slice.call(arguments)\n            , f = fns[index--]\n            , functionIndex = f.length - 1\n            , callbackIndex = args.length\n            , lastArg = args[callbackIndex - 1]\n\n        thisValue = this\n\n        if (typeof lastArg === \"function\") {\n            finishCallback = lastArg.bind(thisValue)\n            args.pop()\n            callbackIndex--\n        }\n\n        if (callbackIndex < functionIndex) {\n            callbackIndex = functionIndex\n        }\n\n        args[callbackIndex] = callNext\n\n        f.apply(thisValue, args)\n    }\n}\n\nfunction cc() {\n    var composite = composeAsync.apply(null, arguments)\n\n    return caller\n\n    function caller() {\n        var args = [].slice.call(arguments)\n        args.push(noop)\n        composite.apply({}, args)\n    }\n}\n\nfunction noop() {}","module.exports = require('composite')\n","var compose = require('./compose')\nvar extend = require('xtend')\n\nmodule.exports = function applyMiddleware () {\n  var middlewares = [].slice.call(arguments)\n\n  return function (createStore) {\n    return function (reducer, initialState, enhancer) {\n      var store = createStore(reducer, initialState, enhancer)\n      var chain = []\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function (action) {\n          return dispatch(action)\n        }\n      }\n\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI)\n      })\n\n      var dispatch = compose.apply(null, chain)(store.dispatch)\n\n      return extend(store, {\n        dispatch: dispatch\n      })\n    }\n  }\n}\n","module.exports = {\n  createStore: require('./createStore'),\n  combineReducers: require('./combineReducers'),\n  bindActionCreators: require('./bindActionCreators'),\n  applyMiddleware: require('./applyMiddleware'),\n  compose: require('./compose')\n}\n","var document = require('global/document')\nvar hyperx = require('hyperx')\nvar onload = require('on-load')\n\nvar SVGNS = 'http://www.w3.org/2000/svg'\nvar XLINKNS = 'http://www.w3.org/1999/xlink'\n\nvar BOOL_PROPS = {\n  autofocus: 1,\n  checked: 1,\n  defaultchecked: 1,\n  disabled: 1,\n  formnovalidate: 1,\n  indeterminate: 1,\n  readonly: 1,\n  required: 1,\n  selected: 1,\n  willvalidate: 1\n}\nvar COMMENT_TAG = '!--'\nvar SVG_TAGS = [\n  'svg',\n  'altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor',\n  'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile',\n  'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix',\n  'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting',\n  'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB',\n  'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode',\n  'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting',\n  'feSpotLight', 'feTile', 'feTurbulence', 'filter', 'font', 'font-face',\n  'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri',\n  'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image', 'line',\n  'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph', 'mpath',\n  'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect',\n  'set', 'stop', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref',\n  'tspan', 'use', 'view', 'vkern'\n]\n\nfunction belCreateElement (tag, props, children) {\n  var el\n\n  // If an svg tag, it needs a namespace\n  if (SVG_TAGS.indexOf(tag) !== -1) {\n    props.namespace = SVGNS\n  }\n\n  // If we are using a namespace\n  var ns = false\n  if (props.namespace) {\n    ns = props.namespace\n    delete props.namespace\n  }\n\n  // Create the element\n  if (ns) {\n    el = document.createElementNS(ns, tag)\n  } else if (tag === COMMENT_TAG) {\n    return document.createComment(props.comment)\n  } else {\n    el = document.createElement(tag)\n  }\n\n  // If adding onload events\n  if (props.onload || props.onunload) {\n    var load = props.onload || function () {}\n    var unload = props.onunload || function () {}\n    onload(el, function belOnload () {\n      load(el)\n    }, function belOnunload () {\n      unload(el)\n    },\n    // We have to use non-standard `caller` to find who invokes `belCreateElement`\n    belCreateElement.caller.caller.caller)\n    delete props.onload\n    delete props.onunload\n  }\n\n  // Create the properties\n  for (var p in props) {\n    if (props.hasOwnProperty(p)) {\n      var key = p.toLowerCase()\n      var val = props[p]\n      // Normalize className\n      if (key === 'classname') {\n        key = 'class'\n        p = 'class'\n      }\n      // The for attribute gets transformed to htmlFor, but we just set as for\n      if (p === 'htmlFor') {\n        p = 'for'\n      }\n      // If a property is boolean, set itself to the key\n      if (BOOL_PROPS[key]) {\n        if (val === 'true') val = key\n        else if (val === 'false') continue\n      }\n      // If a property prefers being set directly vs setAttribute\n      if (key.slice(0, 2) === 'on') {\n        el[p] = val\n      } else {\n        if (ns) {\n          if (p === 'xlink:href') {\n            el.setAttributeNS(XLINKNS, p, val)\n          } else if (/^xmlns($|:)/i.test(p)) {\n            // skip xmlns definitions\n          } else {\n            el.setAttributeNS(null, p, val)\n          }\n        } else {\n          el.setAttribute(p, val)\n        }\n      }\n    }\n  }\n\n  function appendChild (childs) {\n    if (!Array.isArray(childs)) return\n    for (var i = 0; i < childs.length; i++) {\n      var node = childs[i]\n      if (Array.isArray(node)) {\n        appendChild(node)\n        continue\n      }\n\n      if (typeof node === 'number' ||\n        typeof node === 'boolean' ||\n        typeof node === 'function' ||\n        node instanceof Date ||\n        node instanceof RegExp) {\n        node = node.toString()\n      }\n\n      if (typeof node === 'string') {\n        if (el.lastChild && el.lastChild.nodeName === '#text') {\n          el.lastChild.nodeValue += node\n          continue\n        }\n        node = document.createTextNode(node)\n      }\n\n      if (node && node.nodeType) {\n        el.appendChild(node)\n      }\n    }\n  }\n  appendChild(children)\n\n  return el\n}\n\nmodule.exports = hyperx(belCreateElement, {comments: true})\nmodule.exports.default = module.exports\nmodule.exports.createElement = belCreateElement\n","'use strict';\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\n\nvar testEl = doc ?\n    doc.body || doc.createElement('div') :\n    {};\n\n// Fixes <https://github.com/patrick-steele-idem/morphdom/issues/32>\n// (IE7+ support) <=IE7 does not support el.hasAttribute(name)\nvar actualHasAttributeNS;\n\nif (testEl.hasAttributeNS) {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.hasAttributeNS(namespaceURI, name);\n    };\n} else if (testEl.hasAttribute) {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.hasAttribute(name);\n    };\n} else {\n    actualHasAttributeNS = function(el, namespaceURI, name) {\n        return el.getAttributeNode(namespaceURI, name) != null;\n    };\n}\n\nvar hasAttributeNS = actualHasAttributeNS;\n\n\nfunction toElement(str) {\n    if (!range && doc.createRange) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment;\n    if (range && range.createContextualFragment) {\n        fragment = range.createContextualFragment(str);\n    } else {\n        fragment = doc.createElement('body');\n        fragment.innerHTML = str;\n    }\n    return fragment.childNodes[0];\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    if (toEl.actualize &&\n        fromNodeName.charCodeAt(0) < 91 && /* from tag name is upper case */\n        toNodeName.charCodeAt(0) > 90 /* target tag name is lower case */) {\n        // If the target element is a virtual DOM node then we may need to normalize the tag name\n        // before comparing. Normal HTML elements that are in the \"http://www.w3.org/1999/xhtml\"\n        // are converted to upper case\n        return fromNodeName === toNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction morphAttrs(fromNode, toNode) {\n    var attrs = toNode.attributes;\n    var i;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    attrs = fromNode.attributes;\n\n    for (i = attrs.length - 1; i >= 0; --i) {\n        attr = attrs[i];\n        if (attr.specified !== false) {\n            attrName = attr.name;\n            attrNamespaceURI = attr.namespaceURI;\n\n            if (attrNamespaceURI) {\n                attrName = attr.localName || attrName;\n\n                if (!hasAttributeNS(toNode, attrNamespaceURI, attrName)) {\n                    fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n                }\n            } else {\n                if (!hasAttributeNS(toNode, null, attrName)) {\n                    fromNode.removeAttribute(attrName);\n                }\n            }\n        }\n    }\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name, '');\n        }\n    }\n}\n\nvar specialElHandlers = {\n    /**\n     * Needed for IE. Apparently IE doesn't think that \"selected\" is an\n     * attribute when reading over the attributes using selectEl.attributes\n     */\n    OPTION: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!hasAttributeNS(toEl, null, 'value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!hasAttributeNS(toEl, null, 'multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            var curChild = toEl.firstChild;\n            while(curChild) {\n                var nodeName = curChild.nodeName;\n                if (nodeName && nodeName.toUpperCase() === 'OPTION') {\n                    if (hasAttributeNS(curChild, null, 'selected')) {\n                        selectedIndex = i;\n                        break;\n                    }\n                    i++;\n                }\n                curChild = curChild.nextSibling;\n            }\n\n            fromEl.selectedIndex = i;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n    return node.id;\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n    return function morphdom(fromNode, toNode, options) {\n        if (!options) {\n            options = {};\n        }\n\n        if (typeof toNode === 'string') {\n            if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML') {\n                var toNodeHtml = toNode;\n                toNode = doc.createElement('html');\n                toNode.innerHTML = toNodeHtml;\n            } else {\n                toNode = toElement(toNode);\n            }\n        }\n\n        var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n        var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n        var onNodeAdded = options.onNodeAdded || noop;\n        var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n        var onElUpdated = options.onElUpdated || noop;\n        var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n        var onNodeDiscarded = options.onNodeDiscarded || noop;\n        var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n        var childrenOnly = options.childrenOnly === true;\n\n        // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n        var fromNodesLookup = {};\n        var keyedRemovalList;\n\n        function addKeyedRemoval(key) {\n            if (keyedRemovalList) {\n                keyedRemovalList.push(key);\n            } else {\n                keyedRemovalList = [key];\n            }\n        }\n\n        function walkDiscardedChildNodes(node, skipKeyedNodes) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n\n                    var key = undefined;\n\n                    if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n                        // If we are skipping keyed nodes then we add the key\n                        // to a list so that it can be handled at the very end.\n                        addKeyedRemoval(key);\n                    } else {\n                        // Only report the node as discarded if it is not keyed. We do this because\n                        // at the end we loop through all keyed elements that were unmatched\n                        // and then discard them in one final pass.\n                        onNodeDiscarded(curChild);\n                        if (curChild.firstChild) {\n                            walkDiscardedChildNodes(curChild, skipKeyedNodes);\n                        }\n                    }\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        /**\n         * Removes a DOM node out of the original DOM\n         *\n         * @param  {Node} node The node to remove\n         * @param  {Node} parentNode The nodes parent\n         * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n         * @return {undefined}\n         */\n        function removeNode(node, parentNode, skipKeyedNodes) {\n            if (onBeforeNodeDiscarded(node) === false) {\n                return;\n            }\n\n            if (parentNode) {\n                parentNode.removeChild(node);\n            }\n\n            onNodeDiscarded(node);\n            walkDiscardedChildNodes(node, skipKeyedNodes);\n        }\n\n        // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n        // function indexTree(root) {\n        //     var treeWalker = document.createTreeWalker(\n        //         root,\n        //         NodeFilter.SHOW_ELEMENT);\n        //\n        //     var el;\n        //     while((el = treeWalker.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n        //\n        // function indexTree(node) {\n        //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n        //     var el;\n        //     while((el = nodeIterator.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        function indexTree(node) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n                    var key = getNodeKey(curChild);\n                    if (key) {\n                        fromNodesLookup[key] = curChild;\n                    }\n\n                    // Walk recursively\n                    indexTree(curChild);\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        indexTree(fromNode);\n\n        function handleNodeAdded(el) {\n            onNodeAdded(el);\n\n            var curChild = el.firstChild;\n            while (curChild) {\n                var nextSibling = curChild.nextSibling;\n\n                var key = getNodeKey(curChild);\n                if (key) {\n                    var unmatchedFromEl = fromNodesLookup[key];\n                    if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n                        curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n                        morphEl(unmatchedFromEl, curChild);\n                    }\n                }\n\n                handleNodeAdded(curChild);\n                curChild = nextSibling;\n            }\n        }\n\n        function morphEl(fromEl, toEl, childrenOnly) {\n            var toElKey = getNodeKey(toEl);\n            var curFromNodeKey;\n\n            if (toElKey) {\n                // If an element with an ID is being morphed then it is will be in the final\n                // DOM so clear it out of the saved elements collection\n                delete fromNodesLookup[toElKey];\n            }\n\n            if (toNode.isSameNode && toNode.isSameNode(fromNode)) {\n                return;\n            }\n\n            if (!childrenOnly) {\n                if (onBeforeElUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n\n                morphAttrs(fromEl, toEl);\n                onElUpdated(fromEl);\n\n                if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n            }\n\n            if (fromEl.nodeName !== 'TEXTAREA') {\n                var curToNodeChild = toEl.firstChild;\n                var curFromNodeChild = fromEl.firstChild;\n                var curToNodeKey;\n\n                var fromNextSibling;\n                var toNextSibling;\n                var matchingFromEl;\n\n                outer: while (curToNodeChild) {\n                    toNextSibling = curToNodeChild.nextSibling;\n                    curToNodeKey = getNodeKey(curToNodeChild);\n\n                    while (curFromNodeChild) {\n                        fromNextSibling = curFromNodeChild.nextSibling;\n\n                        if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        curFromNodeKey = getNodeKey(curFromNodeChild);\n\n                        var curFromNodeType = curFromNodeChild.nodeType;\n\n                        var isCompatible = undefined;\n\n                        if (curFromNodeType === curToNodeChild.nodeType) {\n                            if (curFromNodeType === ELEMENT_NODE) {\n                                // Both nodes being compared are Element nodes\n\n                                if (curToNodeKey) {\n                                    // The target node has a key so we want to match it up with the correct element\n                                    // in the original DOM tree\n                                    if (curToNodeKey !== curFromNodeKey) {\n                                        // The current element in the original DOM tree does not have a matching key so\n                                        // let's check our lookup to see if there is a matching element in the original\n                                        // DOM tree\n                                        if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                                            if (curFromNodeChild.nextSibling === matchingFromEl) {\n                                                // Special case for single element removals. To avoid removing the original\n                                                // DOM node out of the tree (since that can break CSS transitions, etc.),\n                                                // we will instead discard the current node and wait until the next\n                                                // iteration to properly match up the keyed target element with its matching\n                                                // element in the original tree\n                                                isCompatible = false;\n                                            } else {\n                                                // We found a matching keyed element somewhere in the original DOM tree.\n                                                // Let's moving the original DOM node into the current position and morph\n                                                // it.\n\n                                                // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                                                // the `removeNode()` function for the node that is being discarded so that\n                                                // all lifecycle hooks are correctly invoked\n                                                fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                                                fromNextSibling = curFromNodeChild.nextSibling;\n\n                                                if (curFromNodeKey) {\n                                                    // Since the node is keyed it might be matched up later so we defer\n                                                    // the actual removal to later\n                                                    addKeyedRemoval(curFromNodeKey);\n                                                } else {\n                                                    // NOTE: we skip nested keyed nodes from being removed since there is\n                                                    //       still a chance they will be matched up later\n                                                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                                                }\n\n                                                curFromNodeChild = matchingFromEl;\n                                            }\n                                        } else {\n                                            // The nodes are not compatible since the \"to\" node has a key and there\n                                            // is no matching keyed node in the source tree\n                                            isCompatible = false;\n                                        }\n                                    }\n                                } else if (curFromNodeKey) {\n                                    // The original has a key\n                                    isCompatible = false;\n                                }\n\n                                isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n                                if (isCompatible) {\n                                    // We found compatible DOM elements so transform\n                                    // the current \"from\" node to match the current\n                                    // target DOM node.\n                                    morphEl(curFromNodeChild, curToNodeChild);\n                                }\n\n                            } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n                                // Both nodes being compared are Text or Comment nodes\n                                isCompatible = true;\n                                // Simply update nodeValue on the original node to\n                                // change the text value\n                                curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n                            }\n                        }\n\n                        if (isCompatible) {\n                            // Advance both the \"to\" child and the \"from\" child since we found a match\n                            curToNodeChild = toNextSibling;\n                            curFromNodeChild = fromNextSibling;\n                            continue outer;\n                        }\n\n                        // No compatible match so remove the old node from the DOM and continue trying to find a\n                        // match in the original DOM. However, we only do this if the from node is not keyed\n                        // since it is possible that a keyed node might match up with a node somewhere else in the\n                        // target tree and we don't want to discard it just yet since it still might find a\n                        // home in the final DOM tree. After everything is done we will remove any keyed nodes\n                        // that didn't find a home\n                        if (curFromNodeKey) {\n                            // Since the node is keyed it might be matched up later so we defer\n                            // the actual removal to later\n                            addKeyedRemoval(curFromNodeKey);\n                        } else {\n                            // NOTE: we skip nested keyed nodes from being removed since there is\n                            //       still a chance they will be matched up later\n                            removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                        }\n\n                        curFromNodeChild = fromNextSibling;\n                    }\n\n                    // If we got this far then we did not find a candidate match for\n                    // our \"to node\" and we exhausted all of the children \"from\"\n                    // nodes. Therefore, we will just append the current \"to\" node\n                    // to the end\n                    if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n                        fromEl.appendChild(matchingFromEl);\n                        morphEl(matchingFromEl, curToNodeChild);\n                    } else {\n                        var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n                        if (onBeforeNodeAddedResult !== false) {\n                            if (onBeforeNodeAddedResult) {\n                                curToNodeChild = onBeforeNodeAddedResult;\n                            }\n\n                            if (curToNodeChild.actualize) {\n                                curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n                            }\n                            fromEl.appendChild(curToNodeChild);\n                            handleNodeAdded(curToNodeChild);\n                        }\n                    }\n\n                    curToNodeChild = toNextSibling;\n                    curFromNodeChild = fromNextSibling;\n                }\n\n                // We have processed all of the \"to nodes\". If curFromNodeChild is\n                // non-null then we still have some from nodes left over that need\n                // to be removed\n                while (curFromNodeChild) {\n                    fromNextSibling = curFromNodeChild.nextSibling;\n                    if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                    } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                    }\n                    curFromNodeChild = fromNextSibling;\n                }\n            }\n\n            var specialElHandler = specialElHandlers[fromEl.nodeName];\n            if (specialElHandler) {\n                specialElHandler(fromEl, toEl);\n            }\n        } // END: morphEl(...)\n\n        var morphedNode = fromNode;\n        var morphedNodeType = morphedNode.nodeType;\n        var toNodeType = toNode.nodeType;\n\n        if (!childrenOnly) {\n            // Handle the case where we are given two DOM nodes that are not\n            // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n            if (morphedNodeType === ELEMENT_NODE) {\n                if (toNodeType === ELEMENT_NODE) {\n                    if (!compareNodeNames(fromNode, toNode)) {\n                        onNodeDiscarded(fromNode);\n                        morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n                    }\n                } else {\n                    // Going from an element node to a text node\n                    morphedNode = toNode;\n                }\n            } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n                if (toNodeType === morphedNodeType) {\n                    morphedNode.nodeValue = toNode.nodeValue;\n                    return morphedNode;\n                } else {\n                    // Text node to something else\n                    morphedNode = toNode;\n                }\n            }\n        }\n\n        if (morphedNode === toNode) {\n            // The \"to node\" was not compatible with the \"from node\" so we had to\n            // toss out the \"from node\" and use the \"to node\"\n            onNodeDiscarded(fromNode);\n        } else {\n            morphEl(morphedNode, toNode, childrenOnly);\n\n            // We now need to loop over any keyed nodes that might need to be\n            // removed. We only do the removal if we know that the keyed node\n            // never found a match. When a keyed node is matched up we remove\n            // it out of fromNodesLookup and we use fromNodesLookup to determine\n            // if a keyed node has been matched up or not\n            if (keyedRemovalList) {\n                for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n                    var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n                    if (elToRemove) {\n                        removeNode(elToRemove, elToRemove.parentNode, false);\n                    }\n                }\n            }\n        }\n\n        if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n            if (morphedNode.actualize) {\n                morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n            }\n            // If we had to swap out the from node with a new node because the old\n            // node was not compatible with the target node then we need to\n            // replace the old DOM node in the original DOM tree. This is only\n            // possible if the original DOM node was part of a DOM tree which\n            // we know is the case if it has a parent node.\n            fromNode.parentNode.replaceChild(morphedNode, fromNode);\n        }\n\n        return morphedNode;\n    };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nmodule.exports = morphdom;\n","module.exports = [\n  // attribute events (can be set with attributes)\n  'onclick',\n  'ondblclick',\n  'onmousedown',\n  'onmouseup',\n  'onmouseover',\n  'onmousemove',\n  'onmouseout',\n  'ondragstart',\n  'ondrag',\n  'ondragenter',\n  'ondragleave',\n  'ondragover',\n  'ondrop',\n  'ondragend',\n  'onkeydown',\n  'onkeypress',\n  'onkeyup',\n  'onunload',\n  'onabort',\n  'onerror',\n  'onresize',\n  'onscroll',\n  'onselect',\n  'onchange',\n  'onsubmit',\n  'onreset',\n  'onfocus',\n  'onblur',\n  'oninput',\n  // other common events\n  'oncontextmenu',\n  'onfocusin',\n  'onfocusout'\n]\n","var bel = require('bel') // turns template tag into DOM elements\nvar morphdom = require('morphdom') // efficiently diffs + morphs two DOM elements\nvar defaultEvents = require('./update-events.js') // default events to be copied when dom elements update\n\nmodule.exports = bel\n\n// TODO move this + defaultEvents to a new module once we receive more feedback\nmodule.exports.update = function (fromNode, toNode, opts) {\n  if (!opts) opts = {}\n  if (opts.events !== false) {\n    if (!opts.onBeforeElUpdated) opts.onBeforeElUpdated = copier\n  }\n\n  return morphdom(fromNode, toNode, opts)\n\n  // morphdom only copies attributes. we decided we also wanted to copy events\n  // that can be set via attributes\n  function copier (f, t) {\n    // copy events:\n    var events = opts.events || defaultEvents\n    for (var i = 0; i < events.length; i++) {\n      var ev = events[i]\n      if (t[ev]) { // if new element has a whitelisted attribute\n        f[ev] = t[ev] // update existing element\n      } else if (f[ev]) { // if existing element has it and new one doesnt\n        f[ev] = undefined // remove it from existing element\n      }\n    }\n    var oldValue = f.value\n    var newValue = t.value\n    // copy values for form elements\n    if ((f.nodeName === 'INPUT' && f.type !== 'file') || f.nodeName === 'SELECT') {\n      if (!newValue && !t.hasAttribute('value')) {\n        t.value = f.value\n      } else if (newValue !== oldValue) {\n        f.value = newValue\n      }\n    } else if (f.nodeName === 'TEXTAREA') {\n      if (t.getAttribute('value') === null) f.value = t.value\n    }\n  }\n}\n","var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xtend=require(\"xtend\"),nanorouter=require(\"nanorouter\"),belCreateElement=require(\"bel\").createElement,rbelRegister=require(\"rbel\"),minidux=require(\"minidux\"),yoyoUpdate=require(\"yo-yo\").update,Tram=function(){function e(t){classCallCheck(this,e);var r=(t=t||{}).defaultRoute||\"/404\";this.router=nanorouter({default:r}),this.reducers={},this.state={},this.store={}}return createClass(e,[{key:\"addReducer\",value:function(e,t,r){this.reducers[e]=t,this.state[e]=r}},{key:\"addRoute\",value:function(e,t){var r=this;this.router.on(e,function(e){return function(n){var i=xtend(n,{dispatch:r.store.dispatch},e);return t(i)}})}},{key:\"start\",value:function(e,t){var r=this,n=minidux.combineReducers(this.reducers);this.store=minidux.createStore(n,this.state),this.store.subscribe(function(n){r.mount(e,t,n)}),this.mount(e,t,this.store.getState())}},{key:\"mount\",value:function(e,t,r){var n=\"string\"==typeof e?document.querySelector(e):e;if(!n.firstElementChild){var i=document.createElement(\"div\");n.appendChild(i)}var o=n.firstElementChild,u=t||window.location.href.replace(window.location.origin,\"\");yoyoUpdate(o,this.toNode(u,r))}},{key:\"toNode\",value:function(e,t){return this.router(e)(t||this.state)}},{key:\"toString\",value:function(e,t){return\"undefined\"!=typeof window?this.toNode(e,t).outerHTML:this.toNode(e,t).toString()}}],[{key:\"html\",value:function(e){return rbelRegister(belCreateElement,e||{})}}]),e}();module.exports=Tram;\n//# sourceMappingURL=tram-one.esm.js.map\n","const Tram = (typeof window !== 'undefined') ? window['tram-one'] : require('../../dist/tram-one.esm')\nconst testemPath = (typeof window !== 'undefined') ? window.location.pathname : '/'\nconst document = (typeof window !== 'undefined') ? window.document : require('min-document')\n\ndescribe('Tram', () => {\n  let app\n  const errorPage = () => Tram.html()`<div>Error</div>`\n  const successPage = () => Tram.html()`<div>Noraml Page</div>`\n  const queryablePage = (value) => Tram.html()`<div id=\"tram_container\">${value}</div>`\n  const queryableSelector = '#tram_container'\n\n  const counterReducer = (state, action) => {\n    if (action.type === 'add') {\n      return state + 1\n    }\n    return state\n  }\n  const counterPage = (state) => Tram.html()`${state.counter}`\n  const queryableCounterPage = (state) => Tram.html()`<div id=\"tram_container\">${state.counter}</div>`\n  const counterState = 2\n\n  describe('constructor', () => {\n    it('should have a default route', () => {\n      app = new Tram()\n\n      app.addRoute('/404', errorPage)\n      expect(app.toString('/')).toEqual(errorPage().toString())\n    })\n\n    it('should take in a default route', () => {\n      app = new Tram({defaultRoute: '/200'})\n\n      app.addRoute('/200', successPage)\n      expect(app.toString('/')).toEqual(successPage().toString())\n    })\n\n    it('should not always go to the default', () => {\n      app = new Tram()\n\n      app.addRoute('/404', errorPage)\n      app.addRoute('/200', successPage)\n      expect(app.toString('/200')).not.toEqual(errorPage().toString())\n    })\n  })\n\n  describe('addReducer', () => {\n    it('should include reducer in app', () => {\n      app = new Tram()\n      app.addReducer('counter', counterReducer, {})\n      expect(app.reducers['counter']).toEqual(counterReducer)\n    })\n\n    it('should include state in app', () => {\n      app = new Tram()\n      app.addReducer('counter', counterReducer, counterState)\n      expect(app.state['counter']).toEqual(counterState)\n    })\n  })\n\n  describe('addRoute', () => {\n    it('should handle new routes in the app', () => {\n      app = new Tram()\n      app.addRoute('/', successPage)\n      app.addRoute('/good', successPage)\n      app.addRoute('/bad', errorPage)\n      app.addRoute('/404', errorPage)\n      expect(app.toString('/')).toEqual(successPage().outerHTML)\n      expect(app.toString('/good')).toEqual(successPage().outerHTML)\n      expect(app.toString('/bad')).toEqual(errorPage().outerHTML)\n      expect(app.toString('/404')).toEqual(errorPage().outerHTML)\n    })\n\n    it('should include the default state in app', () => {\n      app = new Tram()\n      app.addRoute('/', counterPage)\n      app.addReducer('counter', counterReducer, counterState)\n      expect(app.toNode('/')).toEqual(counterState)\n    })\n\n    it('should pass in path params in app', () => {\n      app = new Tram()\n      app.addRoute('/:path_param',\n        (state) => Tram.html()`${state.path_param}`\n      )\n      expect(app.toNode('/foo')).toEqual('foo')\n    })\n  })\n\n  describe('start', () => {\n    beforeEach(() => {\n      const childDiv = document.createElement('div')\n      childDiv.id = 'tram_test_container'\n      document.body.appendChild(childDiv)\n    })\n\n    afterEach(() => {\n      const childDiv = document.getElementById('tram_test_container')\n      document.body.removeChild(childDiv)\n    })\n\n    it('should mount the app to the target', () => {\n      app = new Tram()\n      app.addReducer('counter', counterReducer, counterState)\n      app.addRoute(testemPath, queryableCounterPage)\n      app.start('#tram_test_container')\n      const mountedTarget = document.querySelector(queryableSelector)\n\n      expect(mountedTarget.innerHTML).toEqual('2')\n    })\n\n    it('should update the app on state change', () => {\n      app = new Tram()\n      app.addReducer('counter', counterReducer, counterState)\n      app.addRoute(testemPath, queryableCounterPage)\n      app.start('#tram_test_container')\n      app.store.dispatch({type: 'add'})\n      const mountedTarget = document.querySelector(queryableSelector)\n\n      expect(mountedTarget.innerHTML).toEqual('3')\n    })\n  })\n\n  describe('mount', () => {\n    beforeEach(() => {\n      const childDiv = document.createElement('div')\n      childDiv.id = 'tram_test_container'\n      document.body.appendChild(childDiv)\n    })\n\n    afterEach(() => {\n      const childDiv = document.getElementById('tram_test_container')\n      document.body.removeChild(childDiv)\n    })\n\n    it('should attach the app to a node', () => {\n      app = new Tram()\n\n      app.addRoute('/', queryablePage)\n      const target = document.getElementById('tram_test_container')\n      app.mount(target, '/')\n      const mountedTarget = document.querySelector(queryableSelector)\n      expect(mountedTarget.outerHTML).toEqual(queryablePage().outerHTML)\n    })\n\n    it('should use the default route', () => {\n      app = new Tram()\n\n      app.addRoute('/', queryablePage)\n      app.addRoute(testemPath, queryablePage.bind(window, 200))\n      const target = document.getElementById('tram_test_container')\n      app.mount(target)\n      const mountedTarget = document.querySelector(queryableSelector)\n      expect(mountedTarget.outerHTML).toEqual(queryablePage(200).outerHTML)\n    })\n\n    it('should attach the app to a selector', () => {\n      app = new Tram()\n\n      app.addRoute('/', queryablePage)\n      app.mount('#tram_test_container', '/')\n      const mountedTarget = document.querySelector(queryableSelector)\n      expect(mountedTarget.outerHTML).toEqual(queryablePage().outerHTML)\n    })\n\n    it('should update the app on re-mount', () => {\n      app = new Tram()\n\n      app.addRoute('/', queryablePage)\n      app.addRoute('/200', queryablePage.bind(window, 200))\n      app.mount('#tram_test_container', '/')\n      app.mount('#tram_test_container', '/200')\n      const mountedTarget = document.querySelector(queryableSelector)\n      expect(mountedTarget.outerHTML).toEqual(queryablePage(200).outerHTML)\n    })\n  })\n\n  describe('toNode', () => {\n    it('should resolve the path', () => {\n      app = new Tram()\n      app.addRoute('/', successPage)\n      expect(app.toNode('/').outerHTML).toEqual(successPage().outerHTML)\n    })\n\n    it('should have the default state', () => {\n      app = new Tram()\n      app.addRoute('/', counterPage)\n      app.addReducer('counter', counterReducer, counterState)\n      expect(app.toNode('/')).toEqual(counterState)\n    })\n\n    it('should take in a state', () => {\n      app = new Tram()\n      app.addRoute('/', counterPage)\n      expect(app.toNode('/', {counter: counterState})).toEqual(counterState)\n    })\n  })\n\n  describe('toString', () => {\n    it('should return a string', () => {\n      app = new Tram()\n      app.addRoute('/404', errorPage)\n      expect(app.toString('/')).toEqual(errorPage().outerHTML)\n    })\n  })\n\n  describe('html', () => {\n    it('should generate a dom tree', () => {\n      const tramTree = Tram.html()`<div><span></span></div>`\n      const docTree = document.createElement('div')\n      docTree.appendChild(document.createElement('span'))\n      expect(tramTree.outerHTML).toBe(docTree.outerHTML)\n    })\n\n    it('should take in a registry', () => {\n      const foo = () => Tram.html()`<div><span></span></div>`\n      const tramTree = Tram.html({foo})`<foo></foo>`\n      const docTree = document.createElement('div')\n      docTree.appendChild(document.createElement('span'))\n      expect(tramTree.outerHTML).toBe(docTree.outerHTML)\n    })\n  })\n})\n"],"names":["extend","hasOwnProperty","Object","prototype","target","i","arguments","length","source","key","call","Trie","trie","nodes","create","route","equal","routes","replace","split","createNode","index","thisRoute","node","test","wildcard","name","match","params","search","undefined","decodeURIComponent","slice","join","e","xtend","mount","headArr","splice","head","keys","forEach","Wayfarer","dft","_default","_trie","emit","on","_wayfarer","cb","notEqual","args","Array","apply","dftcb","Error","isLocalFile","window","location","origin","electron","protocol","domain","qs","stripElectron","RegExp","prefix","normalize","suffix","Nanorouter","opts","router","wayfarer","default","curry","prevCallback","prevRoute","routename","listener","pathname","isElectron","iterativelyWalk","shift","ret","childNodes","concat","Comment","data","owner","nodeValue","ownerDocument","nodeType","nodeName","toString","_Comment_toString","DOMText","value","type","_Text_toString","replaceData","current","left","substring","right","dispatchEvent","ev","elem","listeners","currentTarget","handleEvent","parentNode","addEventListener","indexOf","push","removeEventListener","list","serializeNode","voidElements","escapeText","serializeElement","strings","tagname","tagName","namespaceURI","toLowerCase","properties","datasetify","map","textContent","innerText","innerHTML","isProperty","style","stylify","styles","attr","c","ds","dataset","props","stringify","attributes","tuple","escapeAttributeValue","ns","_attributes","attribute","prop","className","s","str","htmlns","DOMElement","namespace","String","toUpperCase","appendChild","_Element_appendChild","child","removeChild","replaceChild","_Element_replaceChild","needle","_Element_removeChild","insertBefore","_Element_insertBefore","setAttributeNS","_Element_setAttributeNS","localName","colonPosition","substr","getAttributeNS","_Element_getAttributeNS","removeAttributeNS","_Element_removeAttributeNS","hasAttributeNS","_Element_hasAttributeNS","setAttribute","_Element_setAttribute","getAttribute","_Element_getAttribute","removeAttribute","_Element_removeAttribute","hasAttribute","_Element_hasAttribute","focus","_Element_focus","_Element_toString","getElementsByClassName","_Element_getElementsByClassName","classNames","classes","elems","nodeClassName","nodeClasses","every","item","getElementsByTagName","_Element_getElementsByTagName","contains","_Element_contains","element","domWalk","DocumentFragment","_DocumentFragment_toString","Event","family","initEvent","_Event_initEvent","bubbles","cancelable","preventDefault","_Event_preventDefault","Document","createElement","body","documentElement","proto","createTextNode","createElementNS","createDocumentFragment","createEvent","createComment","getElementById","id","result","topLevel","global","doccy","document","minDoc","attributeToProperty","transform","h","attrs","children","VAR","TEXT","OPEN","CLOSE","ATTR","ATTR_KEY","ATTR_KEY_W","ATTR_VALUE_W","ATTR_VALUE","ATTR_VALUE_SQ","ATTR_VALUE_DQ","ATTR_EQ","ATTR_BREAK","COMMENT","a","b","attrToProp","state","reg","arglen","parts","arg","p","parse","xstate","tree","stack","cur","ix","pop","copyKey","babelHelpers.typeof","j","strfn","selfClosing","isArray","res","charAt","quot","comments","x","closeRE","tag","win","self","watch","KEY_ID","Date","KEY_ATTR","INDEX","MutationObserver","observer","mutations","attributeName","turnon","turnoff","removedNodes","addedNodes","observe","onload","el","off","caller","eachAttr","mutation","newValue","sameOrigin","oldValue","eachMutation","fn","onloadid","k","SVGNS","XLINKNS","BOOL_PROPS","COMMENT_TAG","SVG_TAGS","belCreateElement","comment","onunload","load","unload","belOnload","belOnunload","val","childs","lastChild","hyperx","module","exports","components","eh","component","hx","isObject","isObjectObject","o","isPlainObject","ctor","prot","constructor","createStore","reducer","initialState","enhancer","isEmitting","dispatch","action","subscribe","replaceReducer","next","getState","combineReducers","reducers","combination","hasChanged","nextState","bindActionCreators","actionCreators","bindActionCreator","boundActionCreators","actionCreator","ap","pa","apa","partial","partialRight","curryRight","require$$0","compose","async","composeAsync","cc","reduce","combineFunctions","memo","applyInOrder","first","second","createAsyncComposite","fns","thisValue","finishCallback","callFirst","callNext","f","functionIndex","callbackIndex","lastArg","bind","composite","noop","applyMiddleware","middlewares","store","chain","middlewareAPI","middleware","require$$1","require$$2","require$$3","require$$4","range","NS_XHTML","doc","testEl","actualHasAttributeNS","getAttributeNode","toElement","createRange","selectNode","fragment","createContextualFragment","compareNodeNames","fromEl","toEl","fromNodeName","toNodeName","actualize","charCodeAt","moveChildren","curChild","firstChild","nextChild","nextSibling","morphAttrs","fromNode","toNode","attrName","attrNamespaceURI","attrValue","fromValue","specified","syncBooleanAttrProp","specialElHandlers","placeholder","selectedIndex","ELEMENT_NODE","TEXT_NODE","COMMENT_NODE","defaultGetNodeKey","morphdomFactory","morphdom","options","toNodeHtml","getNodeKey","onBeforeNodeAdded","onNodeAdded","onBeforeElUpdated","onElUpdated","onBeforeNodeDiscarded","onNodeDiscarded","onBeforeElChildrenUpdated","childrenOnly","fromNodesLookup","keyedRemovalList","addKeyedRemoval","walkDiscardedChildNodes","skipKeyedNodes","removeNode","indexTree","handleNodeAdded","unmatchedFromEl","morphEl","toElKey","curFromNodeKey","isSameNode","curToNodeChild","curFromNodeChild","curToNodeKey","fromNextSibling","toNextSibling","matchingFromEl","outer","curFromNodeType","isCompatible","onBeforeNodeAddedResult","specialElHandler","morphedNode","morphedNodeType","toNodeType","len","elToRemove","bel","events","copier","t","defaultEvents","classCallCheck","TypeError","createClass","r","n","enumerable","configurable","writable","defineProperty","yoyoUpdate","update","Tram","defaultRoute","nanorouter","minidux","querySelector","firstElementChild","u","href","outerHTML","rbelRegister","testemPath","describe","app","errorPage","html","successPage","queryablePage","queryableSelector","counterReducer","counterPage","counter","queryableCounterPage","counterState","addRoute","toEqual","not","addReducer","path_param","childDiv","start","mountedTarget","tramTree","docTree","toBe","foo"],"mappings":"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"}